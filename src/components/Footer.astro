---
import Icons from './Icons.astro';
import { getLangFromUrl, useTranslations } from '../i18n';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const socialLinks: {
  href: string;
  label: string;
  icon: "github" | "linkedin" | "mail";
}[] = [
  { href: "https://github.com/idiegoo", label: "GitHub", icon: "github" },
  { href: "https://linkedin.com/in/idiegoo", label: "LinkedIn", icon: "linkedin" },
  { href: "mailto:idiegocs9@gmail.com", label: "Email", icon: "mail" },
]
---

<footer class="py-12 px-4 border-t border-gray-800">
  <div class="max-w-6xl mx-auto">
    <div class="flex flex-col md:flex-row justify-between items-center">
      <div class="mb-6 md:mb-0">
        <div class="text-2xl font-bold bg-gradient-to-r from-purple-400 to-green-400 bg-clip-text text-transparent mb-2">
          {t('hero.title')}
        </div>
        <p class="text-gray-400">
          {t('footer.tagline')}
        </p>
      </div>

      <div class="flex space-x-6">
        {socialLinks.map(({ href, label, icon }) => (
          <a
            href={href}
            class={`group p-3 rounded-full border border-gray-700 transition-all duration-300 ${
              icon === 'github'
                ? 'hover:border-gray-400/50 hover:bg-gray-500/10 hover:shadow-[0_0_15px_rgba(156,163,175,0.3)]'
                : icon === 'linkedin'
                ? 'hover:border-blue-400/50 hover:bg-blue-500/10 hover:shadow-[0_0_15px_rgba(59,130,246,0.3)]'
                : 'hover:border-red-400/50 hover:bg-red-500/10 hover:shadow-[0_0_15px_rgba(239,68,68,0.3)]'
            }`}
            aria-label={label}
            target="_blank"
            rel="noopener noreferrer"
          >
            <Icons icon={icon} size={24} brandColors={true} class="text-gray-400" />
          </a>
        ))}
      </div>
    </div>

    <div class="mt-8 pt-8 border-t border-gray-800 text-center">
      <p class="text-gray-400 flex items-center justify-center">
        {t('footer.madeWith')} <Icons icon='heart' size={16} class='mx-1 text-red-400'/> {t('footer.using')}
      </p>
      <p class="text-gray-400 text-sm mt-2">
        Â© {new Date().getFullYear()} {t('hero.title')}. {t('footer.rights')}
      </p>
    </div>
  </div>
</footer>